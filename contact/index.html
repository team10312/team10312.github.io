<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact — Byte Force Robotics · Team 10312</title>
  <meta name="description" content="Contact — Byte Force Robotics · Team 10312" />

  <!-- ===== reCAPTCHA v3 (replace SITE_KEY_HERE with your site key) ===== -->
  <script src="https://www.google.com/recaptcha/api.js?render=6Ldob9UrAAAAANmSp-eLGm-ts8gn12B8-5aee3rR"></script>

  <style>
    /* ===== COLOR SYSTEM & THEME ===== */
    :root {
      --bg:#ffffff; --bg-soft:rgba(255,255,255,.55); --panel:rgba(255,255,255,.28); --panel-border:rgba(0,0,0,.08);
      --text:#0b0d12; --muted:#475062; --accent:#000; --brand:#ff7f00; --brand-2:#ffae42;
      --rg1:rgba(255,127,0,.20); --rg2:rgba(255,174,66,.14);
      --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.18); --ring:0 0 0 3px rgba(255,140,0,.35);
    }
    [data-theme="dark"] {
      --bg:#0a0b0f; --bg-soft:rgba(10,11,15,.55); --panel:rgba(255,255,255,.06); --panel-border:rgba(255,255,255,.08);
      --text:#eef2f7; --muted:#a9b3c4; --accent:#fff;
      --rg1:rgba(255,127,0,.25); --rg2:rgba(255,174,66,.20);
      --shadow:0 10px 30px rgba(0,0,0,.55);
    }
    *{box-sizing:border-box} html,body{height:100%}
    html{background:var(--bg); transition: background-color .25s ease;}
    body{
      margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text); position:relative; background:transparent; transition: color .25s ease;
    }
    a{color:inherit; text-decoration:none} img{max-width:100%; display:block}
    .container{width:min(1150px,92vw); margin:0 auto}
    .liquid-bg{position:fixed; inset:0; z-index:0; pointer-events:none;
      background:
        radial-gradient(1200px 600px at 70% -20%, var(--rg1), transparent 60%),
        radial-gradient(900px 500px at -10% 10%, var(--rg2), transparent 60%);
    }
    body > *:not(.liquid-bg){ position:relative; z-index:1; }
    header{position:sticky; top:0; z-index:50; backdrop-filter:saturate(140%) blur(8px);
      background:var(--bg-soft); border-bottom:1px solid var(--panel-border); isolation:isolate;}
    .nav{display:flex; align-items:center; justify-content:space-between; gap:1rem; padding:.8rem 0}
    .nav-left{display:flex; align-items:center; gap:1rem}
    .logo{display:inline-flex; align-items:center; gap:.6rem; font-weight:900; letter-spacing:.2px}
    .logo img{height:40px; width:auto}
    .nav-links{display:none; gap:1.2rem; color:var(--muted)}
    .nav-cta{display:none; gap:.6rem; align-items:center}
    @media (min-width:900px){ .nav-links, .nav-cta{display:flex} }
    .nav-links a.active{ color:var(--brand); font-weight:700; }
    .toggle-theme{ background:transparent; border:1px solid var(--panel-border); color:var(--text);
      border-radius:999px; padding:.45rem .9rem; font-weight:700; cursor:pointer;}
    .btn, .glass-button{
      position:relative; display:inline-flex; align-items:center; justify-content:center; gap:.55rem;
      padding:.9rem 1.1rem; border-radius:calc(var(--radius) - 4px);
      color:#fff; font-weight:700; border:none; cursor:pointer; box-shadow:var(--shadow);
      background:linear-gradient(135deg, var(--brand), var(--brand-2));
      overflow:hidden; isolation:isolate; transition: transform .15s ease, box-shadow .15s ease;
    }
    .btn:hover, .glass-button:hover{ transform: translateY(-1px); box-shadow: 0 14px 40px rgba(255,127,0,.35); }
    .btn.secondary{ background:transparent; border:1px solid var(--panel-border); color:var(--text); box-shadow:none; }
    .glass-button::before, .btn::before{
      content:""; position:absolute; inset:-40% -40% auto auto; width:180%; height:180%;
      background: radial-gradient(circle at var(--mx, 50%) var(--my, 50%), rgba(255,127,0,.55), transparent 65%);
      mix-blend-mode:screen; pointer-events:none; transition: opacity .12s ease; opacity:0;
    }
    .glass-button:hover::before, .btn:hover::before{ opacity:.8; }
    .hero{ padding: 4.8rem 0 1.6rem; }
    .headline{ font-size: clamp(2rem, 4.8vw, 3.4rem); line-height: 1.05; margin:0 0 .6rem; color:var(--brand); }
    .muted{ color: var(--muted); }
    .section{ padding: 2.8rem 0; }
    .h2{ font-size: clamp(1.6rem, 3.4vw, 2.2rem); margin:.3rem 0 1rem; color: var(--accent); }
    .grid-3{ display:grid; gap:1rem; grid-template-columns: repeat(3, 1fr); }
    @media (max-width:1000px){ .grid-3{ grid-template-columns: 1fr 1fr; } }
    @media (max-width:680px){ .grid-3{ grid-template-columns: 1fr; } }
    .grid-4{ display:grid; gap:1rem; grid-template-columns: repeat(4, 1fr); }
    @media (max-width:1100px){ .grid-4{ grid-template-columns: 1fr 1fr 1fr; } }
    @media (max-width:740px){ .grid-4{ grid-template-columns: 1fr 1fr; } }
    @media (max-width:520px){ .grid-4{ grid-template-columns: 1fr; } }
    .card{ background: var(--panel); border:1px solid var(--panel-border); border-radius: var(--radius); box-shadow: var(--shadow); padding:1.1rem; }
    footer{ margin-top:2rem; padding:2rem 0 3rem; color:var(--muted); border-top:1px solid var(--panel-border); }
    .foot-grid{ display:grid; grid-template-columns: 1.4fr repeat(3, 1fr); gap:1rem; }
    @media (max-width:900px){ .foot-grid{ grid-template-columns: 1fr 1fr; } }
    @media (max-width:600px){ .foot-grid{ grid-template-columns: 1fr; } }
    .video{aspect-ratio:16/9; border-radius:12px; overflow:hidden; background:#000}
    .gallery{display:grid; gap:.6rem; grid-template-columns: repeat(6,1fr)}
    @media (max-width:1000px){.gallery{grid-template-columns:repeat(4,1fr)}} 
    @media (max-width:640px){.gallery{grid-template-columns:repeat(2,1fr)}}
    .thumb{ aspect-ratio:1; border-radius:10px; background: rgba(255,255,255,.2); overflow:hidden; }
  </style>

  <!-- Liquid Glass Header & Lightbox CSS (injected) -->
  <style>
  /* ===== Liquid Glass Header ===== */
  .liquid-glass-header{
    position: sticky;
    top: 0;
    z-index: 9999;
    background: rgba(255,255,255,0.55);
    -webkit-backdrop-filter: blur(12px) saturate(160%);
    backdrop-filter: blur(12px) saturate(160%);
    border-bottom: 1px solid rgba(0,0,0,0.08);
    transition: background-color .3s ease, border-color .3s ease, box-shadow .3s ease;
  }
  .liquid-glass-header.scrolled{
    background: rgba(255,255,255,0.72);
    box-shadow: 0 2px 20px rgba(0,0,0,0.12);
  }
  :root[data-theme="dark"] .liquid-glass-header{
    background: rgba(17,25,40,0.45);
    border-color: rgba(255,255,255,0.08);
  }
  :root[data-theme="dark"] .liquid-glass-header.scrolled{
    background: rgba(17,25,40,0.62);
  }

  /* ===== Simple Lightbox (only activates on media gallery pages) ===== */
  #lightbox-overlay{
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.6);
    z-index: 2147483645;
    padding: 4vw;
  }
  #lightbox-overlay.show{ display: flex; }
  #lightbox-image{
    max-width: 100%;
    max-height: 100%;
    box-shadow: 0 10px 40px rgba(0,0,0,0.4);
    border-radius: 12px;
  }
  #lightbox-close{
    position: absolute;
    top: 16px;
    right: 20px;
    background: rgba(0,0,0,0.45);
    color: #fff;
    border: 0;
    font-size: 32px;
    line-height: 1;
    width: 44px;
    height: 44px;
    border-radius: 8px;
    cursor: pointer;
  }
  </style>
</head>
<body>
  <div class="liquid-bg" aria-hidden="true"></div>

  <header>
    <div class="container nav">
      <div class="nav-left">
        <a class="logo" data-link="home" href="/"><img src="blacklogo.png" alt="Team 10312 Logo"><span></span></a>
        <nav class="nav-links">
          <a data-link="about" href="/about/">About</a>
          <a data-link="team" href="/team/">Team</a>
          <a data-link="robots" href="/robots/">Robots</a>
          <a data-link="sponsors" href="/sponsors/">Sponsors</a>
          <a data-link="media" href="/media/">Media</a>
          <a data-link="contact" href="/contact/">Contact</a>
        </nav>
      </div>
      <div class="nav-cta">
        <button class="toggle-theme" id="themeToggle" aria-label="Toggle theme">Dark</button>
        <a id="link-get-involved" class="btn glass-button" data-link="sponsors" href="/sponsors/#become-a-sponsor">Get Involved</a>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h1 class="headline">Contact Us</h1>
      <p class="muted">Reach out for sponsorships, demos, or general questions.</p>
    </div>
  </section>

  <section class="section">
    <div class="container" style="display:grid;gap:1rem;grid-template-columns:1.1fr 1fr">
      <div class="card">
        <h2 class="h2">Send a Message</h2>

        <!-- Contact Form (reCAPTCHA v3 + honeypot + optional phone) -->
        <form id="contactForm" style="display:grid;gap:.6rem">
          <input type="text" name="name" placeholder="Your Name" required
                 style="padding:.8rem;border-radius:10px;border:1px solid var(--panel-border);background:var(--panel);color:var(--text)">
          <input type="email" name="email" placeholder="Email" required
                 style="padding:.8rem;border-radius:10px;border:1px solid var(--panel-border);background:var(--panel);color:var(--text)">
          <input type="tel" name="phone" placeholder="Phone (optional)"
                 style="padding:.8rem;border-radius:10px;border:1px solid var(--panel-border);background:var(--panel);color:var(--text)">
          <textarea name="message" placeholder="How can we help?" rows="6" required
                    style="padding:.8rem;border-radius:10px;border:1px solid var(--panel-border);background:var(--panel);color:var(--text)"></textarea>

          <!-- Honeypot: should remain empty -->
          <input type="text" name="website" autocomplete="off" tabindex="-1" aria-hidden="true"
                 style="position:absolute;left:-10000px;opacity:0">

          <!-- reCAPTCHA token (filled on submit) -->
          <input type="hidden" name="token" id="recaptchaToken">

          <button class="btn glass-button" type="submit" style="justify-content:center">Send</button>
          <div id="formStatus" class="muted" style="min-height:1.2rem;"></div>
        </form>
      </div>

      <div class="card">
        <h2 class="h2">Other Ways</h2>
        <p class="muted">Email: <a href="mailto:byteforce@frc10312.org">byteforce@frc10312.org</a></p>
        <p class="muted">Instagram: <a href="#">@frc10312</a></p>
        <p class="muted">YouTube: <a href="#">Byte Force Robotics</a></p>
        <div style="margin-top:1rem"><a class="btn secondary" data-link="sponsors" href="/sponsors/">Sponsor Us</a></div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container foot-grid">
      <div>
        <div class="logo"><img src="blacklogo.png" alt="Team 10312 Logo" style="height:28px"></div>
        <p class="muted" style="margin-top:.6rem;max-width:46ch">Orange • White • Black.</p>
      </div>
      <div>
        <h4>Explore</h4>
        <a class="muted" data-link="team" href="/team/">Team</a><br>
        <a class="muted" data-link="robots" href="/robots/">Robots</a><br>
        <a class="muted" data-link="media" href="/media/">Media</a>
      </div>
      <div>
        <h4>Support</h4>
        <a class="muted" data-link="sponsors" href="/sponsors/">Sponsors</a><br>
        <a class="muted" data-link="contact" href="/contact/">Contact</a>
      </div>
      <div>
        <h4>Follow</h4>
        <a class="muted" href="#">YouTube</a><br>
        <a class="muted" href="#">Instagram</a>
      </div>
    </div>
    <div class="container" style="margin-top:1.4rem;display:flex;justify-content:space-between;gap:.8rem;flex-wrap:wrap">
      <span class="muted">© <span id="year"></span> Byte Force Robotics — Team 10312</span>
      <div style="display:flex;gap:1rem"><a class="muted" href="#">Privacy</a><a class="muted" href="#">Terms</a></div>
    </div>
  </footer>

  <script>
    // ----- CONFIG: Set these to your WordPress page slugs/URLs -----
    const LINKS = {
      home: '/', about: '/about/', team: '/team/', robots: '/robots/',
      sponsors: '/sponsors/', media: '/media/', contact: '/contact/'
    };
    const PAGE = 'contact'; // current page key

    // Apply year
    document.addEventListener('DOMContentLoaded', () => {
      const y = document.getElementById('year'); if (y) y.textContent = new Date().getFullYear();
    });

    // Wire nav/cta links based on LINKS config
    function wireLinks() {
      document.querySelectorAll('[data-link]').forEach(a => {
        const key = a.getAttribute('data-link');
        if (LINKS[key]) {
          // Preserve anchor fragments if present in href template
          const href = a.getAttribute('href') || '';
          const hash = href.includes('#') ? href.substring(href.indexOf('#')) : '';
          a.setAttribute('href', LINKS[key] + hash);
        }
      });
    }

    // Theme persistence & label
    const html = document.documentElement;
    const toggle = document.getElementById('themeToggle');
    function setLabel() { if (toggle) toggle.textContent = html.getAttribute('data-theme') === 'dark' ? 'Light' : 'Dark'; }
    const stored = localStorage.getItem('bf-theme');
    if (stored) { if (stored === 'dark') html.setAttribute('data-theme', 'dark'); else if (stored === 'light') html.setAttribute('data-theme','light'); }
    else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) { html.setAttribute('data-theme', 'dark'); }
    setLabel();
    if (toggle) toggle.addEventListener('click', () => {
      const isDark = html.getAttribute('data-theme') === 'dark';
      if (isDark) { html.setAttribute('data-theme','light'); localStorage.setItem('bf-theme','light'); }
      else { html.setAttribute('data-theme', 'dark'); localStorage.setItem('bf-theme', 'dark'); }
      setLabel();
    });

    // Button ripple follows pointer
    document.querySelectorAll('.btn, .glass-button').forEach(btn => {
      btn.addEventListener('mousemove', (e) => {
        const r = btn.getBoundingClientRect();
        btn.style.setProperty('--mx', `${e.clientX - r.left}px`);
        btn.style.setProperty('--my', `${e.clientY - r.top}px`);
      });
    });

    // Active nav
    function setActive() {
      document.querySelectorAll(`.nav-links a[data-link="${PAGE}"]`).forEach(a=>a.classList.add('active'));
    }

    wireLinks();
    setActive();
  </script>

  <!-- Liquid Glass Header & Lightbox JS (injected) -->
  <script>
  (function(){
    // ===== Liquid Glass Header enhancer =====
    function enhanceHeader(){
      var candidates = document.querySelectorAll('header, .header, .topbar, .top-bar, .navbar, nav[role="navigation"]');
      if(candidates.length){
        var el = candidates[0];
        if(!el.classList.contains('liquid-glass-header')){
          el.classList.add('liquid-glass-header');
        }
      }
      var headerEl = document.querySelector('.liquid-glass-header');
      if(headerEl){
        var onScroll = function(){
          var y = (window.scrollY || document.documentElement.scrollTop || 0);
          if(y > 8){ headerEl.classList.add('scrolled'); }
          else{ headerEl.classList.remove('scrolled'); }
        };
        onScroll();
        window.addEventListener('scroll', onScroll, {passive:true});
      }
    }

    // ===== Lightweight Lightbox (activates on media/gallery pages only) =====
    function setupLightbox(){
      var galleryRoot =
        document.querySelector('[data-gallery], .gallery, #gallery, .photo-gallery, .media-gallery');
      if(!galleryRoot) return;

      var overlay = document.createElement('div');
      overlay.id = 'lightbox-overlay';
      overlay.innerHTML = '<button id="lightbox-close" aria-label="Close">×</button><img id="lightbox-image" alt="">';
      document.body.appendChild(overlay);

      var imgEl = overlay.querySelector('#lightbox-image');
      var closeBtn = overlay.querySelector('#lightbox-close');

      function openLightbox(src, alt){
        imgEl.src = src;
        imgEl.alt = alt || '';
        overlay.classList.add('show');
        document.body.style.overflow = 'hidden';
      }
      function closeLightbox(){
        overlay.classList.remove('show');
        document.body.style.overflow = '';
        setTimeout(function(){ imgEl.src = ''; }, 200);
      }

      overlay.addEventListener('click', function(e){
        if(e.target === overlay || e.target.id === 'lightbox-close'){ closeLightbox(); }
      });
      document.addEventListener('keydown', function(e){
        if(e.key === 'Escape'){ closeLightbox(); }
      });

      galleryRoot.addEventListener('click', function(e){
        var t = e.target;
        if(t && t.tagName === 'IMG'){
          e.preventDefault();
          var anchor = t.closest('a');
          var src = (anchor && anchor.getAttribute('href')) || t.getAttribute('data-full') || t.src;
          openLightbox(src, t.getAttribute('alt') || '');
        }
      });
    }

    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', function(){
        enhanceHeader();
        setupLightbox();
      });
    } else {
      enhanceHeader();
      setupLightbox();
    }
  })();
  </script>

  <!-- Logo swap script injected: swaps blacklogo/whitelogo on theme changes -->
  <script>
  (function() {
    function forEachLogo(fn){
      var imgs = document.querySelectorAll('img[src$="blacklogo.png"], img[src$="whitelogo.png"]');
      imgs.forEach ? imgs.forEach(fn) : Array.prototype.forEach.call(imgs, fn);
    }
    function isDarkMode() {
      var html = document.documentElement;
      var dt = (html.getAttribute('data-theme') || '').toLowerCase();
      if (dt === 'dark') return true;
      if (dt === 'light') return false;
      if (html.classList && (html.classList.contains('dark') || html.classList.contains('theme-dark'))) return true;
      if (html.classList && (html.classList.contains('light') || html.classList.contains('theme-light'))) return false;
      if (window.matchMedia) { return window.matchMedia('(prefers-color-scheme: dark)').matches; }
      return false;
    }
    function setLogoByTheme() {
      var dark = isDarkMode();
      forEachLogo(function(img){
        var current = img.getAttribute('src') || '';
        var desired = current.replace(/(white|black)logo\.png$/i, dark ? 'whitelogo.png' : 'blacklogo.png');
        if (desired !== current) img.setAttribute('src', desired);
      });
    }
    setLogoByTheme();
    try {
      var obs = new MutationObserver(setLogoByTheme);
      obs.observe(document.documentElement, {attributes: true, attributeFilter: ['class','data-theme']});
      if (window.matchMedia) {
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', setLogoByTheme);
      }
      window.addEventListener('storage', setLogoByTheme);
    } catch (e) {}
  })();
  </script>

  <!-- ===== Contact form submit handler (reCAPTCHA v3 + Apps Script) ===== -->
  <script>
    // Replace with your keys/URLs:
    const RECAPTCHA_SITE_KEY = '6Ldob9UrAAAAANmSp-eLGm-ts8gn12B8-5aee3rR';
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbz3wZynjuepOcsgG0bKRPK3bfIqZIEx3JcSEgRPRE6NG5eAcg449kxo7W0JrYLFkdER/exec';

    // Helper: get a v3 token for an action
    function getRecaptchaToken(siteKey, action) {
      return new Promise((resolve, reject) => {
        if (!window.grecaptcha) return reject(new Error('reCAPTCHA not loaded'));
        grecaptcha.ready(() => {
          grecaptcha.execute(siteKey, { action }).then(resolve).catch(reject);
        });
      });
    }

    (function(){
      const form = document.getElementById('contactForm');
      const statusEl = document.getElementById('formStatus');
      const tokenEl = document.getElementById('recaptchaToken');

      if (!form) return;

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        if (statusEl) statusEl.textContent = 'Sending...';
        const btn = form.querySelector('button[type="submit"]');
        if (btn) btn.disabled = true;

        try {
          // Get reCAPTCHA v3 token
          const token = await getRecaptchaToken(RECAPTCHA_SITE_KEY, 'contact');
          if (tokenEl) tokenEl.value = token;

          const fd = new FormData(form);
          fd.append('origin', window.location.origin); // optional, for server logs

          // Attempt normal CORS request first
          let ok = false;
          try {
            const res = await fetch(SCRIPT_URL, { method: 'POST', body: fd, credentials: 'omit' });
            if (res.ok) {
              // If server returns readable JSON and CORS allows it
              try {
                const data = await res.json();
                ok = !!data.ok;
              } catch {
                // Response unreadable (CORS) but status ok—assume success
                ok = true;
              }
            }
          } catch {
            // Ignore, try no-cors fallback below
          }

          // Fallback: no-cors (opaque response, but reliably posts)
          if (!ok) {
            await fetch(SCRIPT_URL, { method: 'POST', body: fd, mode: 'no-cors', credentials: 'omit' });
            ok = true;
          }

          if (ok) {
            form.reset();
            if (statusEl) statusEl.textContent = 'Thanks! We received your message.';
          } else {
            if (statusEl) statusEl.textContent = 'Something went wrong. Please email us directly.';
          }
        } catch {
          if (statusEl) statusEl.textContent = 'Network error. Please try again.';
        } finally {
          if (btn) btn.disabled = false;
        }
      });
    })();
  </script>
</body>
</html>
